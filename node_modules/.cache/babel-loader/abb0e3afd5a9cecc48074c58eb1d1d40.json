{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82104\\\\Desktop\\\\projectHub_front-main (2)\\\\projectHub_front-main\\\\src\\\\components\\\\views\\\\PostPage\\\\UpdateContent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Component } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Link, useParams } from 'react-router-dom';\nimport store from '../../../_reducers/postingReducer';\nimport './UpdateContent.css';\nimport axios from 'axios';\nimport { request } from \"../../../utils/axios\"; //this.props.match.params\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateContent() {\n  _s();\n\n  const param = useParams();\n  const project_idx = param.project_idx;\n  const content_idx = param.content_idx;\n  const [title, setTitle] = useState([]);\n  const [content, setContent] = useState([]);\n  useEffect(async () => {\n    var response = await axios.get('http://3.21.104.168:8765/posting/' + content_idx);\n    const data = response.data[0];\n    setTitle(data.title);\n    setContent(data.content);\n  }, []);\n\n  const onModify = () => {\n    var updatedData = {\n      title: title,\n      content: content\n    };\n    const response = request(\"post\", \"/posting/update/\" + content_idx, updatedData);\n    console.log(response);\n  };\n\n  function renderMakrdown() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 6\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"id\",\n        value: content_idx\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"title_txt\",\n          type: \"text\",\n          name: \"title\",\n          defaultValue: title,\n          onChange: function (e) {\n            setTitle(e.target.value);\n          }.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Write\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"textarea\",\n          name: \"content\",\n          defaultValue: content,\n          onChange: function (e) {\n            setContent(e.target.value);\n          }.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n          renderers: {\n            code: renderMakrdown\n          },\n          source: content,\n          className: \"markdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 8\n        }, this), \" \", /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n          className: \"markdown\",\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/project/\" + project_idx + \"/read/\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          fontSize: 30\n        },\n        onClick: onModify,\n        children: \"\\uC218\\uC815\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 51\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UpdateContent, \"0MPPSS/GO1+aP0GblSgu0yFXaEc=\", false, function () {\n  return [useParams];\n});\n\n_c = UpdateContent;\nexport default UpdateContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateContent\");","map":{"version":3,"sources":["C:/Users/82104/Desktop/projectHub_front-main (2)/projectHub_front-main/src/components/views/PostPage/UpdateContent.js"],"names":["React","useState","useEffect","Component","ReactMarkdown","Link","useParams","store","axios","request","UpdateContent","param","project_idx","content_idx","title","setTitle","content","setContent","response","get","data","onModify","updatedData","console","log","renderMakrdown","e","target","value","bind","code","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component} from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport {Link, useParams} from 'react-router-dom';\nimport store from '../../../_reducers/postingReducer';\nimport './UpdateContent.css';\nimport axios from 'axios';\nimport {request} from \"../../../utils/axios\"\n\n//this.props.match.params\n\nfunction UpdateContent(){\n  const param = useParams();\n  const project_idx = param.project_idx;\n  const content_idx = param.content_idx;\n\n  const [title,setTitle] = useState([]);\n  const [content,setContent] = useState([]);\n\n  useEffect(async()=>{\n    var response = await axios.get('http://3.21.104.168:8765/posting/' + content_idx);\n    const data = response.data[0];\n    setTitle(data.title);\n    setContent(data.content);\n  },[])\n\n  const onModify = () => {\n   var updatedData = {title:title, content:content}\n\n  const response = request(\"post\", \"/posting/update/\" + content_idx , updatedData)\n  console.log(response);\n }\n\n function renderMakrdown() {\n   return(\n     <div>\n       {content}\n     </div>\n   )\n }\n\n\nreturn(\n  <div>\n    <article>\n       <input type=\"hidden\" name=\"id\" value={content_idx}></input>\n       <p>\n          <input \n            id='title_txt' \n            type=\"text\" \n            name=\"title\" \n            defaultValue={title} \n             onChange={function(e){\n              setTitle(e.target.value);\n             }.bind(this)}>\n          </input>\n      </p>\n      <div className=\"Write\">\n         <textarea \n           className='textarea' \n           name=\"content\" \n           defaultValue={content}\n          onChange={function(e){\n            setContent(e.target.value);\n          }.bind(this)}/>\n       <ReactMarkdown \n        renderers={{\n          code:renderMakrdown,\n        }}\n       source={content} className='markdown'/> <ReactMarkdown className='markdown'>{content}</ReactMarkdown>\n      </div>\n   </article>\n   <Link to={\"/project/\"+ project_idx + \"/read/\"}><button style={{fontSize:30}} onClick={onModify}>수정하기</button></Link>\n</div>)\n}\n\n  export default UpdateContent"]},"metadata":{},"sourceType":"module"}