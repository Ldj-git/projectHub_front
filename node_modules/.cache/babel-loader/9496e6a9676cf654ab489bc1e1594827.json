{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82104\\\\Desktop\\\\projectHub_front-main (2)\\\\projectHub_front-main\\\\src\\\\components\\\\views\\\\ProjectPage\\\\ProjectDetail.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport NavBar from \"../../Parts/NavBar/MainNavBar\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { getProjectDetail, projectDelete } from \"../../../_actions/projectAction\";\nimport \"./Button.css\";\nimport postingStore from \"../../../_reducers/postingReducer\";\nimport './ProjectDetail.css';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nfunction GetPostingContents(idx) {\n  _s();\n\n  const [contents, setContents] = useState([]);\n  useEffect(async () => {\n    var response = await axios.get('http://3.21.104.168:8765/posting');\n    setContents(response.data);\n  }, []);\n  var lists = [];\n  var i = 0;\n\n  while (i < contents.length) {\n    if (Number(idx) === contents[i].project_idx) {\n      lists.push( /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          border: \"1\",\n          className: \"table\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"100px\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/project/' + idx + \"/readContent/\" + contents[i].idx,\n              children: [\"id: \", contents[i].idx]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"200px\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/project/' + idx + \"/readContent/\" + contents[i].idx,\n              children: [\"title: \", contents[i].title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"150px\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/project/' + idx + \"/readContent/\" + contents[i].idx,\n              children: [\"user_id: \", contents[i].user_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"250px\",\n            children: [\"addDate: \", contents[i].addDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"250px\",\n            children: [\"updateDate: \", contents[i].updateDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }, this));\n    }\n\n    i++;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: lists\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GetPostingContents, \"4g5s0NCgroIEqZUBw2UpyTw3EMM=\");\n\n_c = GetPostingContents;\n\nfunction ProjectDetail(props) {\n  _s2();\n\n  // 게시물을 눌렀을 때 나오는 화면\n  const param = useParams();\n  const idx = param.idx;\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [AddDate, setAddDate] = useState(\"\");\n  const [UpdateDate, setUpdateDate] = useState(\"\");\n  const [Name, setName] = useState(\"\");\n  const [Members, setMembers] = useState(\"\");\n  const [Title, setTitle] = useState(\"\");\n  const [Info, setInfo] = useState(\"\");\n  const [Team_idx, setTeam_idx] = useState(\"\"); // 팀 인덱스 값 \n\n  useEffect(() => {\n    dispatch(getProjectDetail(idx)).then(res => {\n      console.log(res);\n      setAddDate(res.payload.addDate);\n      setUpdateDate(res.payload.updateDate);\n      setName(res.payload.name);\n      setMembers(res.payload.members);\n      setTitle(res.payload.title);\n      setInfo(res.payload.info);\n      setTeam_idx(res.payload.team_idx); // 팀 인덱스 응답\n    });\n  }, []);\n\n  const onModify = e => {\n    props.history.push(`/project/update/${idx}`);\n  };\n\n  const onDelete = e => {\n    e.preventDefault();\n\n    if (window.confirm(\"Delete this posting?\")) {\n      dispatch(projectDelete(idx)).then(response => {\n        if (response) {\n          props.history.push(`/project`);\n        } else {\n          alert(\"삭제에 실패했습니다!!\");\n        }\n      });\n    } else {\n      setOpen(false);\n    }\n  };\n\n  function modifyStatus() {\n    //로그인 여부에 따라 버튼 보이게 설정\n    if (cookies.get(\"user\") !== undefined) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modify\",\n        style: {\n          marginLeft: \"250px\"\n        },\n        onClick: onModify,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 14\n      }, this);\n    } else {\n      return null;\n    }\n  }\n\n  function deleteStatus() {\n    //로그인 여부에 따라 버튼 보이게 설정\n    if (cookies.get(\"user\") !== undefined) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        style: {\n          marginLeft: \"360px\"\n        },\n        onClick: onDelete,\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 14\n      }, this);\n    } else {\n      return null;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/project/\",\n      className: \"back\",\n      children: /*#__PURE__*/_jsxDEV(IoMdArrowRoundBack, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"center\",\n      children: [modifyStatus(), deleteStatus(), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"PROJECT | \", Title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"Upload Date: \", AddDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"Modify Date: \", UpdateDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Team Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Team Member\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: Members\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Project Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: Info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"----------------------------------------------------\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"POSTING\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), GetPostingContents(idx), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/project/' + idx + \"/post/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"ADD POST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(ProjectDetail, \"6DosmOqOHq0qsKiRcVPKmDGeMBI=\", false, function () {\n  return [useParams, useDispatch];\n});\n\n_c2 = ProjectDetail;\nexport default ProjectDetail;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetPostingContents\");\n$RefreshReg$(_c2, \"ProjectDetail\");","map":{"version":3,"sources":["C:/Users/82104/Desktop/projectHub_front-main (2)/projectHub_front-main/src/components/views/ProjectPage/ProjectDetail.js"],"names":["React","useEffect","useState","useParams","Link","useDispatch","NavBar","IoMdArrowRoundBack","getProjectDetail","projectDelete","postingStore","Cookies","axios","cookies","GetPostingContents","idx","contents","setContents","response","get","data","lists","i","length","Number","project_idx","push","title","user_id","addDate","updateDate","ProjectDetail","props","param","dispatch","open","setOpen","AddDate","setAddDate","UpdateDate","setUpdateDate","Name","setName","Members","setMembers","Title","setTitle","Info","setInfo","Team_idx","setTeam_idx","then","res","console","log","payload","name","members","info","team_idx","onModify","e","history","onDelete","preventDefault","window","confirm","alert","modifyStatus","undefined","marginLeft","deleteStatus"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport NavBar from \"../../Parts/NavBar/MainNavBar\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { getProjectDetail, projectDelete } from \"../../../_actions/projectAction\";\nimport \"./Button.css\";\nimport postingStore from \"../../../_reducers/postingReducer\";\nimport './ProjectDetail.css';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\n\nconst cookies = new Cookies();\n\nfunction GetPostingContents(idx) {\n  const [contents,setContents] = useState([]);\n  \n  useEffect(async() => {\n    var response = await axios.get('http://3.21.104.168:8765/posting');\n    setContents(response.data);\n  },[]);\n  var lists = [];\n  var i=0;\n\n  while(i< contents.length){\n    if(Number(idx) === contents[i].project_idx){\n    lists.push(\n      <tbody key={i}>\n      <tr border=\"1\" className=\"table\" align=\"center\">\n        <td width=\"100px\"><Link to={'/project/' + idx + \"/readContent/\" + contents[i].idx}>\n          id: {contents[i].idx}\n        </Link></td>\n      \n        <td width=\"200px\"><Link to={'/project/' + idx + \"/readContent/\" + contents[i].idx}>\n         title: {contents[i].title}\n        </Link></td>\n      \n        <td width=\"150px\"><Link to={'/project/' + idx + \"/readContent/\" + contents[i].idx}>\n          user_id: {contents[i].user_id}\n        </Link></td>\n\n        <td width=\"250px\">\n          addDate: {contents[i].addDate}\n        </td>\n\n        <td width=\"250px\">\n          updateDate: {contents[i].updateDate}\n        </td>\n      </tr>\n      </tbody>\n    )\n    }\n    i++;\n  }\n\n  return(\n    <table>\n      {lists}\n    </table>  \n  )\n}\n\nfunction ProjectDetail(props) { // 게시물을 눌렀을 때 나오는 화면\n  const param = useParams();\n  const idx = param.idx;\n  const dispatch = useDispatch();\n\n  const [open, setOpen] = useState(false);\n\n  const [AddDate, setAddDate] = useState(\"\");\n  const [UpdateDate, setUpdateDate] = useState(\"\");\n  const [Name, setName] = useState(\"\");\n  const [Members, setMembers] = useState(\"\");\n  const [Title, setTitle] = useState(\"\");\n  const [Info, setInfo] = useState(\"\");\n\n  const [Team_idx, setTeam_idx] = useState(\"\"); // 팀 인덱스 값 \n\n  useEffect(() => {\n    dispatch(getProjectDetail(idx)).then((res) => {\n      console.log(res);\n      setAddDate(res.payload.addDate);\n      setUpdateDate(res.payload.updateDate);\n      setName(res.payload.name);\n      setMembers(res.payload.members);\n      setTitle(res.payload.title);\n      setInfo(res.payload.info);\n      setTeam_idx(res.payload.team_idx); // 팀 인덱스 응답\n    });\n  }, []);\n\n  const onModify = (e) => {\n    props.history.push(`/project/update/${idx}`);\n  };\n\n  const onDelete = (e) => {\n    e.preventDefault();\n    if (window.confirm(\"Delete this posting?\")) {\n      dispatch(projectDelete(idx)).then((response) => {\n        if (response) {\n          props.history.push(`/project`);\n        } else {\n          alert(\"삭제에 실패했습니다!!\");\n        }\n      });\n    } else {\n      setOpen(false);\n    }\n  };\n  function modifyStatus(){  //로그인 여부에 따라 버튼 보이게 설정\n    if(cookies.get(\"user\")!==undefined){\n      return <button className=\"modify\" style={{ marginLeft: \"250px\" }} onClick={onModify}>수정</button> \n    }else{\n      return null;\n    }\n  }\n  function deleteStatus(){ //로그인 여부에 따라 버튼 보이게 설정\n    if(cookies.get(\"user\")!==undefined){\n      return <button className=\"delete\" style={{ marginLeft: \"360px\" }} onClick={onDelete}>삭제</button>\n    }else{\n      return null;\n    }\n  }\n  return (\n    <span>\n      <NavBar />\n      <br />\n      <Link to=\"/project/\" className=\"back\">\n        <IoMdArrowRoundBack />\n      </Link>\n      <div align=\"center\">\n        {modifyStatus()}\n        {deleteStatus()}\n        <h4>PROJECT | {Title}</h4>\n        <small>Upload Date: {AddDate}</small>\n        <br />\n        <small>Modify Date: {UpdateDate}</small>\n        <br />\n        <br />\n\n        <div>\n          <span>Team Name</span>\n          <br />\n          <p>{Name}</p>\n        </div>\n        <br />\n\n        <div>\n          <span>Team Member</span>\n          <br />\n          <p>{Members}</p>\n        </div>\n        <br />\n\n        <div>\n          <span>Project Information</span>\n          <br />\n          <div>{Info}</div>\n        </div>\n        <br />\n\n        {/*POSTING 부분*/}\n        <div>----------------------------------------------------</div>\n        <h4>POSTING</h4>\n        {GetPostingContents(idx)}\n          <Link to={'/project/' + idx + \"/post/\"}><button>ADD POST</button></Link>\n      </div>\n    </span>\n  );\n}\n\nexport default ProjectDetail;\n"]},"metadata":{},"sourceType":"module"}