{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ldj\\\\Desktop\\\\projectHub_front\\\\src\\\\components\\\\views\\\\ProjectPage\\\\ProjectDetail.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport NavBar from \"../../Parts/NavBar/MainNavBar\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { getProjectDetail, projectDelete } from \"../../../_actions/projectAction\";\nimport \"./Button.css\";\nimport postingStore from \"../../../_reducers/postingReducer\";\nimport './ProjectDetail.css';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nfunction GetPostingContents(idx) {\n  _s();\n\n  const [contents, setContents] = useState([]);\n  useEffect(async () => {\n    var response = await axios.get('http://3.21.104.168:8765/posting');\n    setContents(response.data);\n  }, []);\n  var lists = [];\n  var i = 0;\n\n  while (i < contents.length) {\n    if (Number(idx) === contents[i].project_idx) {\n      lists.push( /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          border: \"1\",\n          className: \"table\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"100px\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/project/' + idx + \"/readContent/\" + contents[i].idx,\n              children: [\"id: \", contents[i].idx]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"200px\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/project/' + idx + \"/readContent/\" + contents[i].idx,\n              children: [\"title: \", contents[i].title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"150px\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/project/' + idx + \"/readContent/\" + contents[i].idx,\n              children: [\"user_id: \", contents[i].user_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"250px\",\n            children: [\"addDate: \", contents[i].addDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"250px\",\n            children: [\"updateDate: \", contents[i].updateDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }, this));\n    }\n\n    i++;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: lists\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GetPostingContents, \"4g5s0NCgroIEqZUBw2UpyTw3EMM=\");\n\n_c = GetPostingContents;\n\nfunction ProjectDetail(props) {\n  _s2();\n\n  // 게시물을 눌렀을 때 나오는 화면\n  const param = useParams();\n  const idx = param.idx;\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [AddDate, setAddDate] = useState(\"\");\n  const [UpdateDate, setUpdateDate] = useState(\"\");\n  const [Name, setName] = useState(\"\");\n  const [Members, setMembers] = useState(\"\");\n  const [Title, setTitle] = useState(\"\");\n  const [Info, setInfo] = useState(\"\");\n  const [Team_idx, setTeam_idx] = useState(\"\"); // 팀 인덱스 값 \n\n  useEffect(() => {\n    console.log(idx);\n    dispatch(getProjectDetail(idx)).then(res => {\n      console.log(res);\n      setAddDate(res.payload.addDate);\n      setUpdateDate(res.payload.updateDate);\n      setName(res.payload.name);\n      setMembers(res.payload.members);\n      setTitle(res.payload.title);\n      setInfo(res.payload.info);\n      setTeam_idx(res.payload.team_idx); // 팀 인덱스 응답\n    });\n  }, []);\n\n  const onModify = e => {\n    props.history.push(`/project/update/${idx}`);\n  };\n\n  const onDelete = e => {\n    e.preventDefault();\n\n    if (window.confirm(\"Delete this posting?\")) {\n      dispatch(projectDelete(idx)).then(response => {\n        if (response) {\n          props.history.push(`/`);\n        } else {\n          alert(\"삭제에 실패했습니다!!\");\n        }\n      });\n    } else {\n      setOpen(false);\n    }\n  };\n\n  function modifyStatus() {\n    //로그인 여부에 따라 버튼 보이게 설정\n    if (cookies.get(\"user\") !== undefined) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modify\",\n        style: {\n          marginLeft: \"250px\"\n        },\n        onClick: onModify,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 14\n      }, this);\n    } else {\n      return null;\n    }\n  }\n\n  function deleteStatus() {\n    //로그인 여부에 따라 버튼 보이게 설정\n    if (cookies.get(\"user\") !== undefined) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        style: {\n          marginLeft: \"360px\"\n        },\n        onClick: onDelete,\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 14\n      }, this);\n    } else {\n      return null;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/project/\",\n      className: \"back\",\n      children: /*#__PURE__*/_jsxDEV(IoMdArrowRoundBack, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"center\",\n      children: [modifyStatus(), deleteStatus(), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"PROJECT | \", Title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"Upload Date: \", AddDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"Modify Date: \", UpdateDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Team Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Team Member\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: Members\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Project Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: Info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"----------------------------------------------------\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"POSTING\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), GetPostingContents(idx), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/project/' + idx + \"/post/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"ADD POST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(ProjectDetail, \"6DosmOqOHq0qsKiRcVPKmDGeMBI=\", false, function () {\n  return [useParams, useDispatch];\n});\n\n_c2 = ProjectDetail;\nexport default ProjectDetail;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetPostingContents\");\n$RefreshReg$(_c2, \"ProjectDetail\");","map":{"version":3,"sources":["C:/Users/Ldj/Desktop/projectHub_front/src/components/views/ProjectPage/ProjectDetail.js"],"names":["React","useEffect","useState","useParams","Link","useDispatch","NavBar","IoMdArrowRoundBack","getProjectDetail","projectDelete","postingStore","Cookies","axios","cookies","GetPostingContents","idx","contents","setContents","response","get","data","lists","i","length","Number","project_idx","push","title","user_id","addDate","updateDate","ProjectDetail","props","param","dispatch","open","setOpen","AddDate","setAddDate","UpdateDate","setUpdateDate","Name","setName","Members","setMembers","Title","setTitle","Info","setInfo","Team_idx","setTeam_idx","console","log","then","res","payload","name","members","info","team_idx","onModify","e","history","onDelete","preventDefault","window","confirm","alert","modifyStatus","undefined","marginLeft","deleteStatus"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,kBAAhC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,SAASC,kBAAT,QAAmC,gBAAnC;AACA,SAASC,gBAAT,EAA2BC,aAA3B,QAAgD,iCAAhD;AACA,OAAO,cAAP;AACA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,OAAO,qBAAP;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAO,GAAG,IAAIF,OAAJ,EAAhB;;AAEA,SAASG,kBAAT,CAA4BC,GAA5B,EAAiC;AAAA;;AAC/B,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBf,QAAQ,CAAC,EAAD,CAAvC;AAEAD,EAAAA,SAAS,CAAC,YAAW;AACnB,QAAIiB,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,kCAAV,CAArB;AACAF,IAAAA,WAAW,CAACC,QAAQ,CAACE,IAAV,CAAX;AACD,GAHQ,EAGP,EAHO,CAAT;AAIA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,CAAC,GAAC,CAAN;;AAEA,SAAMA,CAAC,GAAEN,QAAQ,CAACO,MAAlB,EAAyB;AACvB,QAAGC,MAAM,CAACT,GAAD,CAAN,KAAgBC,QAAQ,CAACM,CAAD,CAAR,CAAYG,WAA/B,EAA2C;AAC3CJ,MAAAA,KAAK,CAACK,IAAN,eACE;AAAA,+BACA;AAAI,UAAA,MAAM,EAAC,GAAX;AAAe,UAAA,SAAS,EAAC,OAAzB;AAAiC,UAAA,KAAK,EAAC,QAAvC;AAAA,kCACE;AAAI,YAAA,KAAK,EAAC,OAAV;AAAA,mCAAkB,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE,cAAcX,GAAd,GAAoB,eAApB,GAAsCC,QAAQ,CAACM,CAAD,CAAR,CAAYP,GAA5D;AAAA,iCACXC,QAAQ,CAACM,CAAD,CAAR,CAAYP,GADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlB;AAAA;AAAA;AAAA;AAAA,kBADF,eAKE;AAAI,YAAA,KAAK,EAAC,OAAV;AAAA,mCAAkB,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE,cAAcA,GAAd,GAAoB,eAApB,GAAsCC,QAAQ,CAACM,CAAD,CAAR,CAAYP,GAA5D;AAAA,oCACTC,QAAQ,CAACM,CAAD,CAAR,CAAYK,KADH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlB;AAAA;AAAA;AAAA;AAAA,kBALF,eASE;AAAI,YAAA,KAAK,EAAC,OAAV;AAAA,mCAAkB,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE,cAAcZ,GAAd,GAAoB,eAApB,GAAsCC,QAAQ,CAACM,CAAD,CAAR,CAAYP,GAA5D;AAAA,sCACNC,QAAQ,CAACM,CAAD,CAAR,CAAYM,OADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlB;AAAA;AAAA;AAAA;AAAA,kBATF,eAaE;AAAI,YAAA,KAAK,EAAC,OAAV;AAAA,oCACYZ,QAAQ,CAACM,CAAD,CAAR,CAAYO,OADxB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,eAiBE;AAAI,YAAA,KAAK,EAAC,OAAV;AAAA,uCACeb,QAAQ,CAACM,CAAD,CAAR,CAAYQ,UAD3B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,SAAYR,CAAZ;AAAA;AAAA;AAAA;AAAA,cADF;AAyBC;;AACDA,IAAAA,CAAC;AACF;;AAED,sBACE;AAAA,cACGD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA9CQP,kB;;KAAAA,kB;;AAgDT,SAASiB,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAAE;AAC9B,QAAMC,KAAK,GAAG9B,SAAS,EAAvB;AACA,QAAMY,GAAG,GAAGkB,KAAK,CAAClB,GAAlB;AACA,QAAMmB,QAAQ,GAAG7B,WAAW,EAA5B;AAEA,QAAM,CAAC8B,IAAD,EAAOC,OAAP,IAAkBlC,QAAQ,CAAC,KAAD,CAAhC;AAEA,QAAM,CAACmC,OAAD,EAAUC,UAAV,IAAwBpC,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACqC,UAAD,EAAaC,aAAb,IAA8BtC,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACuC,IAAD,EAAOC,OAAP,IAAkBxC,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACyC,OAAD,EAAUC,UAAV,IAAwB1C,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC2C,KAAD,EAAQC,QAAR,IAAoB5C,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC6C,IAAD,EAAOC,OAAP,IAAkB9C,QAAQ,CAAC,EAAD,CAAhC;AAEA,QAAM,CAAC+C,QAAD,EAAWC,WAAX,IAA0BhD,QAAQ,CAAC,EAAD,CAAxC,CAd4B,CAckB;;AAE9CD,EAAAA,SAAS,CAAC,MAAM;AACdkD,IAAAA,OAAO,CAACC,GAAR,CAAYrC,GAAZ;AACAmB,IAAAA,QAAQ,CAAC1B,gBAAgB,CAACO,GAAD,CAAjB,CAAR,CAAgCsC,IAAhC,CAAsCC,GAAD,IAAS;AAC5CH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACAhB,MAAAA,UAAU,CAACgB,GAAG,CAACC,OAAJ,CAAY1B,OAAb,CAAV;AACAW,MAAAA,aAAa,CAACc,GAAG,CAACC,OAAJ,CAAYzB,UAAb,CAAb;AACAY,MAAAA,OAAO,CAACY,GAAG,CAACC,OAAJ,CAAYC,IAAb,CAAP;AACAZ,MAAAA,UAAU,CAACU,GAAG,CAACC,OAAJ,CAAYE,OAAb,CAAV;AACAX,MAAAA,QAAQ,CAACQ,GAAG,CAACC,OAAJ,CAAY5B,KAAb,CAAR;AACAqB,MAAAA,OAAO,CAACM,GAAG,CAACC,OAAJ,CAAYG,IAAb,CAAP;AACAR,MAAAA,WAAW,CAACI,GAAG,CAACC,OAAJ,CAAYI,QAAb,CAAX,CAR4C,CAQT;AACpC,KATD;AAUD,GAZQ,EAYN,EAZM,CAAT;;AAcA,QAAMC,QAAQ,GAAIC,CAAD,IAAO;AACtB7B,IAAAA,KAAK,CAAC8B,OAAN,CAAcpC,IAAd,CAAoB,mBAAkBX,GAAI,EAA1C;AACD,GAFD;;AAIA,QAAMgD,QAAQ,GAAIF,CAAD,IAAO;AACtBA,IAAAA,CAAC,CAACG,cAAF;;AACA,QAAIC,MAAM,CAACC,OAAP,CAAe,sBAAf,CAAJ,EAA4C;AAC1ChC,MAAAA,QAAQ,CAACzB,aAAa,CAACM,GAAD,CAAd,CAAR,CAA6BsC,IAA7B,CAAmCnC,QAAD,IAAc;AAC9C,YAAIA,QAAJ,EAAc;AACZc,UAAAA,KAAK,CAAC8B,OAAN,CAAcpC,IAAd,CAAoB,GAApB;AACD,SAFD,MAEO;AACLyC,UAAAA,KAAK,CAAC,cAAD,CAAL;AACD;AACF,OAND;AAOD,KARD,MAQO;AACL/B,MAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AACF,GAbD;;AAcA,WAASgC,YAAT,GAAuB;AAAG;AACxB,QAAGvD,OAAO,CAACM,GAAR,CAAY,MAAZ,MAAsBkD,SAAzB,EAAmC;AACjC,0BAAO;AAAQ,QAAA,SAAS,EAAC,QAAlB;AAA2B,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd,SAAlC;AAA2D,QAAA,OAAO,EAAEV,QAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEK;AACH,aAAO,IAAP;AACD;AACF;;AACD,WAASW,YAAT,GAAuB;AAAE;AACvB,QAAG1D,OAAO,CAACM,GAAR,CAAY,MAAZ,MAAsBkD,SAAzB,EAAmC;AACjC,0BAAO;AAAQ,QAAA,SAAS,EAAC,QAAlB;AAA2B,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd,SAAlC;AAA2D,QAAA,OAAO,EAAEP,QAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEK;AACH,aAAO,IAAP;AACD;AACF;;AACD,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAqB,MAAA,SAAS,EAAC,MAA/B;AAAA,6BACE,QAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAHF,eAME;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,iBACGK,YAAY,EADf,EAEGG,YAAY,EAFf,eAGE;AAAA,iCAAe1B,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAA,oCAAqBR,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAA,oCAAqBE,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAOE;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE;AAAA;AAAA;AAAA;AAAA,cARF,eAUE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,oBAAIE;AAAJ;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF,eAeE;AAAA;AAAA;AAAA;AAAA,cAfF,eAiBE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,oBAAIE;AAAJ;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBF,eAsBE;AAAA;AAAA;AAAA;AAAA,cAtBF,eAwBE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,oBAAMI;AAAN;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF,eA6BE;AAAA;AAAA;AAAA;AAAA,cA7BF,eAgCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhCF,eAiCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjCF,EAkCGjC,kBAAkB,CAACC,GAAD,CAlCrB,eAmCI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAE,cAAcA,GAAd,GAAoB,QAA9B;AAAA,+BAAwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAxC;AAAA;AAAA;AAAA;AAAA,cAnCJ;AAAA;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8CD;;IA5GQgB,a;UACO5B,S,EAEGE,W;;;MAHV0B,a;AA8GT,eAAeA,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport NavBar from \"../../Parts/NavBar/MainNavBar\";\r\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\r\nimport { getProjectDetail, projectDelete } from \"../../../_actions/projectAction\";\r\nimport \"./Button.css\";\r\nimport postingStore from \"../../../_reducers/postingReducer\";\r\nimport './ProjectDetail.css';\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\n\r\nconst cookies = new Cookies();\r\n\r\nfunction GetPostingContents(idx) {\r\n  const [contents,setContents] = useState([]);\r\n  \r\n  useEffect(async() => {\r\n    var response = await axios.get('http://3.21.104.168:8765/posting');\r\n    setContents(response.data);\r\n  },[]);\r\n  var lists = [];\r\n  var i=0;\r\n\r\n  while(i< contents.length){\r\n    if(Number(idx) === contents[i].project_idx){\r\n    lists.push(\r\n      <tbody key={i}>\r\n      <tr border=\"1\" className=\"table\" align=\"center\">\r\n        <td width=\"100px\"><Link to={'/project/' + idx + \"/readContent/\" + contents[i].idx}>\r\n          id: {contents[i].idx}\r\n        </Link></td>\r\n      \r\n        <td width=\"200px\"><Link to={'/project/' + idx + \"/readContent/\" + contents[i].idx}>\r\n         title: {contents[i].title}\r\n        </Link></td>\r\n      \r\n        <td width=\"150px\"><Link to={'/project/' + idx + \"/readContent/\" + contents[i].idx}>\r\n          user_id: {contents[i].user_id}\r\n        </Link></td>\r\n\r\n        <td width=\"250px\">\r\n          addDate: {contents[i].addDate}\r\n        </td>\r\n\r\n        <td width=\"250px\">\r\n          updateDate: {contents[i].updateDate}\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    )\r\n    }\r\n    i++;\r\n  }\r\n\r\n  return(\r\n    <table>\r\n      {lists}\r\n    </table>  \r\n  )\r\n}\r\n\r\nfunction ProjectDetail(props) { // 게시물을 눌렀을 때 나오는 화면\r\n  const param = useParams();\r\n  const idx = param.idx;\r\n  const dispatch = useDispatch();\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [AddDate, setAddDate] = useState(\"\");\r\n  const [UpdateDate, setUpdateDate] = useState(\"\");\r\n  const [Name, setName] = useState(\"\");\r\n  const [Members, setMembers] = useState(\"\");\r\n  const [Title, setTitle] = useState(\"\");\r\n  const [Info, setInfo] = useState(\"\");\r\n\r\n  const [Team_idx, setTeam_idx] = useState(\"\"); // 팀 인덱스 값 \r\n\r\n  useEffect(() => {\r\n    console.log(idx);\r\n    dispatch(getProjectDetail(idx)).then((res) => {\r\n      console.log(res);\r\n      setAddDate(res.payload.addDate);\r\n      setUpdateDate(res.payload.updateDate);\r\n      setName(res.payload.name);\r\n      setMembers(res.payload.members);\r\n      setTitle(res.payload.title);\r\n      setInfo(res.payload.info);\r\n      setTeam_idx(res.payload.team_idx); // 팀 인덱스 응답\r\n    });\r\n  }, []);\r\n\r\n  const onModify = (e) => {\r\n    props.history.push(`/project/update/${idx}`);\r\n  };\r\n\r\n  const onDelete = (e) => {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Delete this posting?\")) {\r\n      dispatch(projectDelete(idx)).then((response) => {\r\n        if (response) {\r\n          props.history.push(`/`);\r\n        } else {\r\n          alert(\"삭제에 실패했습니다!!\");\r\n        }\r\n      });\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  };\r\n  function modifyStatus(){  //로그인 여부에 따라 버튼 보이게 설정\r\n    if(cookies.get(\"user\")!==undefined){\r\n      return <button className=\"modify\" style={{ marginLeft: \"250px\" }} onClick={onModify}>수정</button> \r\n    }else{\r\n      return null;\r\n    }\r\n  }\r\n  function deleteStatus(){ //로그인 여부에 따라 버튼 보이게 설정\r\n    if(cookies.get(\"user\")!==undefined){\r\n      return <button className=\"delete\" style={{ marginLeft: \"360px\" }} onClick={onDelete}>삭제</button>\r\n    }else{\r\n      return null;\r\n    }\r\n  }\r\n  return (\r\n    <span>\r\n      <NavBar />\r\n      <br />\r\n      <Link to=\"/project/\" className=\"back\">\r\n        <IoMdArrowRoundBack />\r\n      </Link>\r\n      <div align=\"center\">\r\n        {modifyStatus()}\r\n        {deleteStatus()}\r\n        <h4>PROJECT | {Title}</h4>\r\n        <small>Upload Date: {AddDate}</small>\r\n        <br />\r\n        <small>Modify Date: {UpdateDate}</small>\r\n        <br />\r\n        <br />\r\n\r\n        <div>\r\n          <span>Team Name</span>\r\n          <br />\r\n          <p>{Name}</p>\r\n        </div>\r\n        <br />\r\n\r\n        <div>\r\n          <span>Team Member</span>\r\n          <br />\r\n          <p>{Members}</p>\r\n        </div>\r\n        <br />\r\n\r\n        <div>\r\n          <span>Project Information</span>\r\n          <br />\r\n          <div>{Info}</div>\r\n        </div>\r\n        <br />\r\n\r\n        {/*POSTING 부분*/}\r\n        <div>----------------------------------------------------</div>\r\n        <h4>POSTING</h4>\r\n        {GetPostingContents(idx)}\r\n          <Link to={'/project/' + idx + \"/post/\"}><button>ADD POST</button></Link>\r\n      </div>\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default ProjectDetail;\r\n"]},"metadata":{},"sourceType":"module"}