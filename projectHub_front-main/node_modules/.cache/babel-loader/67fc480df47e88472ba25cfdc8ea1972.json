{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82104\\\\Desktop\\\\projectHub_front-main (2)\\\\projectHub_front-main\\\\src\\\\components\\\\views\\\\PostPage\\\\CreateContent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport ReactMarkdown from 'react-markdown';\nimport { Link, useParams } from 'react-router-dom';\nimport './CreateContent.css';\nimport { request } from \"../../../utils/axios\";\nimport { getAllPosting } from \"../../../_actions/projectAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateContent() {\n  _s();\n\n  const param = useParams();\n  const project_idx = param.project_idx;\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n  const [contents, setContents] = useState([]);\n  useEffect(() => {\n    setLoading(true);\n    dispatch(getAllPosting()).then(res => {\n      setContents(res.payload);\n    });\n    setLoading(false);\n  }, []);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n\n  const getMaxIdx = () => {\n    var max = -1;\n    var i = 0;\n\n    while (i < contents.length) {\n      if (max < contents[i].idx) max = contents[i].idx;\n      i++;\n    }\n\n    return max;\n  };\n\n  const onUpload = () => {\n    var newMaxContentId = getMaxIdx() + 1;\n    const obj = {\n      addDate: \"2021-02-06T16:54:17.000Z\",\n      content: desc,\n      idx: newMaxContentId,\n      project_idx: Number(project_idx),\n      title: title,\n      updateDate: null,\n      user_id: \"test\",\n      withCredentials: true\n    };\n    const rresponse = request(\"post\", \"/posting/upload/\", obj);\n    console.log(rresponse);\n  };\n\n  const handleChangeTITLE = e => {\n    setTitle(e.currentTarget.value);\n  };\n\n  const handleChangeDESC = e => {\n    setDesc(e.currentTarget.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"title_txt\",\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"title \\uC785\\uB825\",\n        onChange: handleChangeTITLE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Write\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        autoFocus: true,\n        className: \"textarea\",\n        name: \"desc\",\n        placeholder: \"desc \\uC785\\uB825\",\n        onChange: handleChangeDESC\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n        source: desc,\n        className: \"markdown\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/project/\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          fontSize: 40\n        },\n        onClick: onUpload,\n        children: \"\\uB9CC\\uB4E4\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateContent, \"ZWDNGcbcS4lHZgyIShwB0Zj2Ot8=\", false, function () {\n  return [useParams, useDispatch];\n});\n\n_c = CreateContent;\nexport default CreateContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateContent\");","map":{"version":3,"sources":["C:/Users/82104/Desktop/projectHub_front-main (2)/projectHub_front-main/src/components/views/PostPage/CreateContent.js"],"names":["React","useState","useEffect","useDispatch","ReactMarkdown","Link","useParams","request","getAllPosting","CreateContent","param","project_idx","dispatch","loading","setLoading","contents","setContents","then","res","payload","title","setTitle","desc","setDesc","getMaxIdx","max","i","length","idx","onUpload","newMaxContentId","obj","addDate","content","Number","updateDate","user_id","withCredentials","rresponse","console","log","handleChangeTITLE","e","currentTarget","value","handleChangeDESC","fontSize"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {  useDispatch } from 'react-redux';\nimport ReactMarkdown from 'react-markdown';\nimport {Link, useParams} from 'react-router-dom';\nimport './CreateContent.css';\nimport {request} from \"../../../utils/axios\"\nimport {getAllPosting} from \"../../../_actions/projectAction\";\n\n\nfunction CreateContent(){\n  const param = useParams();\n  const project_idx = param.project_idx;\n\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n\n  const[contents, setContents] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    dispatch(getAllPosting()).then((res) => {\n      setContents(res.payload);\n    });\n    setLoading(false);\n  }, []);\n\n  const[title, setTitle] = useState(\"\");\n  const[desc, setDesc] = useState(\"\");    \n\n  const getMaxIdx = () => {\n    var max = -1;\n    var i=0;\n    while(i<contents.length){\n      if(max < contents[i].idx) max = contents[i].idx;\n      i++;\n    }\n    return max;\n  }\n\n    const onUpload = () => {\n      var newMaxContentId = getMaxIdx() + 1;\n\n      const obj = {\n        addDate: \"2021-02-06T16:54:17.000Z\",\n        content:desc,\n        idx:newMaxContentId, \n        project_idx:Number(project_idx), \n        title:title, \n        updateDate:null,\n        user_id:\"test\",\n        withCredentials: true\n        };\n\n      const rresponse = request(\"post\", \"/posting/upload/\", obj);\n      console.log(rresponse);\n\n    }\n\n    const handleChangeTITLE = (e) => {\n      setTitle(e.currentTarget.value)\n    }\n  \n    const handleChangeDESC = (e) => {\n      setDesc(e.currentTarget.value)\n    }\n  \n      return (\n        <article>\n            <p><input id='title_txt' type=\"text\" name=\"title\" placeholder=\"title 입력\" onChange={handleChangeTITLE}></input></p>\n            <div className=\"Write\">\n              <textarea \n                autoFocus \n                className='textarea' \n                name=\"desc\" \n                placeholder=\"desc 입력\" \n                onChange={handleChangeDESC}/>\n            \n            <ReactMarkdown source={desc} className='markdown'/>\n            </div>\n              <Link to={\"/project/\"}><button style={{fontSize:40}} onClick={onUpload}>만들기</button></Link>\n        </article>\n      )\n    }\n\n  export default CreateContent"]},"metadata":{},"sourceType":"module"}